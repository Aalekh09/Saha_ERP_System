<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saha Institute of Management & Technology - Enquiries</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="header-content">
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="header-info">
                <h1>Saha Institute of Management & Technology</h1>
                <p>Welcome, <span id="username"></span></p>
            </div>
        </div>
    </header>

    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" title="Toggle Dark/Light Mode">
        <i class="fas fa-moon"></i>
    </button>

    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

    <div class="main-container">
        <div class="side-panel">
            <div class="admin-section">
                <div class="admin-header">
                    <img src="./uploads/teachers/d.jpg" alt="Admin" class="admin-avatar">
                    <div class="admin-info">
                        <h3>Aalekh</h3>
                        <span class="admin-role">Administrator</span>
                    </div>
                </div>
            </div>
            <div class="student-section">
                <h4>Navigation</h4>
                <a href="dashboard.html" class="tab-btn">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="index.html" class="tab-btn">
                    <i class="fas fa-users"></i>
                    <span>Students</span>
                </a>
                <h4>Enquiry Management</h4>
                <button class="tab-btn active" data-tab="enquiry-form">
                    <i class="fas fa-question-circle"></i>
                    <span>New Enquiry</span>
                </button>
                <button class="tab-btn" data-tab="enquiry-list">
                    <i class="fas fa-list"></i>
                    <span>Enquiry List</span>
                </button>
            </div>
        </div>

        <div class="content-panel">
            <!-- New Enquiry Panel -->
            <div id="enquiry-form-panel" class="tab-content active">
                <div class="panel-header">
                    <div class="panel-title">
                        <h2><i class="fas fa-plus-circle"></i> New Enquiry</h2>
                        <p class="subtitle">Capture new student enquiries and course interests</p>
                    </div>
                </div>
                <div class="panel-content">
                    <form id="enquiryForm" class="professional-form">
                        <div class="form-section">
                            <div class="section-header">
                                <i class="fas fa-user"></i>
                                <h3>Personal Information</h3>
                            </div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="name">Full Name *</label>
                                    <input type="text" id="name" name="name" required placeholder="Enter full name">
                                </div>
                                <div class="form-group">
                                    <label for="fatherName">Father's Name *</label>
                                    <input type="text" id="fatherName" name="fatherName" required placeholder="Enter father's name">
                                </div>
                                <div class="form-group">
                                    <label for="phoneNumber">Phone Number *</label>
                                    <input type="tel" id="phoneNumber" name="phoneNumber" required placeholder="Enter 10-digit mobile number">
                                </div>
                                <div class="form-group">
                                    <label for="enquiryDate">Date of Enquiry *</label>
                                    <input type="date" id="enquiryDate" name="enquiryDate" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <div class="section-header">
                                <i class="fas fa-graduation-cap"></i>
                                <h3>Course Information</h3>
                            </div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="course">Course Interested In *</label>
                                    <select id="course" name="course" required>
                                        <option value="">Select Course</option>
                                        <option value="Basic Computer">Basic Computer</option>
                                        <option value="MS Office">MS Office</option>
                                        <option value="Tally">Tally</option>
                                        <option value="DTP">DTP</option>
                                        <option value="Web Development">Web Development</option>
                                        <option value="Programming">Programming</option>
                                        <option value="Digital Marketing">University Course B.ed</option>
                                        <option value="Spoken English">Spoken English</option>
                                        <option value="AutoCAD">AutoCAD</option>
                                        <option value="DCAA">DCAA</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="courseDuration">Preferred Duration *</label>
                                    <select id="courseDuration" name="courseDuration" required>
                                        <option value="">Select Duration</option>
                                        <option value="1 Month">1 Month</option>
                                        <option value="2 Months">2 Months</option>
                                        <option value="3 Months">3 Months</option>
                                        <option value="6 Months">6 Months</option>
                                        <option value="1 Year">1 Year</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="takenBy">Taken By *</label>
                                    <input type="text" id="takenBy" name="takenBy" required placeholder="Enter your name">
                                </div>
                                <div class="form-group full-width">
                                    <label for="remarks">Remarks</label>
                                    <textarea id="remarks" name="remarks" rows="3" placeholder="Additional notes or comments"></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-save"></i> Submit Enquiry
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Enquiry List Panel -->
            <div id="enquiry-list-panel" class="tab-content">
                <div class="panel-header">
                    <div class="panel-title">
                        <h2><i class="fas fa-list"></i> Enquiries List</h2>
                        <p class="subtitle">Manage and track all student enquiries</p>
                    </div>
                    <div class="panel-actions">
                        <div class="filter-controls">
                            <div class="date-filter">
                                <label for="dateFilter">Filter by Date:</label>
                                <input type="date" id="dateFilter" placeholder="Select date">
                                <button id="clearDateFilter" title="Clear date filter">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="date-filter" style="margin-left:12px;">
                                <label for="monthFilter">Filter by Month:</label>
                                <input type="month" id="monthFilter" placeholder="Select month">
                                <button id="clearMonthFilter" title="Clear month filter">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="search-container">
                                <div class="search-box">
                                    <i class="fas fa-search"></i>
                                    <input type="text" id="searchEnquiryInput" placeholder="Search enquiries...">
                                </div>
                            </div>
                            <div class="date-filter" style="margin-left:12px;">
                                <label for="statusFilter">Status:</label>
                                <select id="statusFilter">
                                    <option value="all" selected>All</option>
                                    <option value="pending">Pending</option>
                                    <option value="converted">Converted</option>
                                </select>
                            </div>
                        </div>
                        <div class="panel-actions" style="gap:8px;">
                            <button id="exportEnquiriesBtn" class="action-btn"><i class="fas fa-file-excel"></i> Export Enquiries</button>
                            <button id="exportPendingBtn" class="action-btn"><i class="fas fa-filter"></i> Export Pending</button>
                        </div>
                    </div>
                </div>
                
                <div class="panel-content">
                    <div class="enquiry-stats">
                        <span id="totalEnquiries">Total: 0</span>
                        <span id="filteredEnquiries">Showing: 0</span>
                        <span id="pendingCount" style="margin-left:12px;">Pending: 0</span>
                        <span id="convertedCount" style="margin-left:12px;">Converted: 0</span>
                    </div>
                    
                    <div class="table-container" style="margin-bottom:16px;">
                        <table id="enquirySummaryTable" class="report-table">
                            <thead>
                                <tr>
                                    <th>Status</th>
                                    <th>Count</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>Pending</td><td>0</td></tr>
                                <tr><td>Converted</td><td>0</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div id="enquiries-panel">
                        <div class="table-container">
                            <table id="enquiriesTable">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Father's Name</th>
                                        <th>Date of Enquiry</th>
                                        <th>Taken By</th>
                                        <th>Phone Number</th>
                                        <th>Course</th>
                                        <th>Duration</th>
                                        <th>Remarks</th>
                                        <th>Status</th>
                                        <th>Feedback</th>
                                        <th>Actions</th>
                                        <th>Convert</th>
                                    </tr>
                                </thead>
                                <tbody id="enquiriesTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="notification" class="notification">
        <span id="notificationMessage"></span>
    </div>

    <!-- Professional Feedback Modal -->
    <div id="feedbackModal" class="modal" style="display:none;">
        <div class="modal-content professional-feedback-modal">
            <div class="modal-header professional-feedback-header">
                <div class="modal-header-left">
                    <div class="modal-icon-bg">
                        <i class="fas fa-comments"></i>
                    </div>
                    <div class="modal-header-title">
                        <h2><i class="fas fa-clipboard-list"></i> Feedback Management</h2>
                        <p class="modal-subtitle">Track communication history and add new feedback entries</p>
                    </div>
                </div>
                <button class="close-btn" id="closeFeedbackModal" title="Close Feedback Modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body professional-feedback-body">
                <!-- Feedback History Section -->
                <div class="feedback-history-section">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-history"></i>
                        </div>
                        <h3>Communication History</h3>
                    </div>
                    <div class="feedback-log-container">
                        <div id="feedbackLog" class="professional-feedback-log"></div>
                    </div>
                </div>
                
                <!-- Add New Feedback Section -->
                <div class="add-feedback-section">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-plus-circle"></i>
                        </div>
                        <h3>Add New Feedback</h3>
                    </div>
                    
                    <form id="feedbackForm" class="professional-feedback-form">
                        <div class="form-grid-feedback">
                            <div class="form-group">
                                <label for="feedbackDate">
                                    <i class="fas fa-calendar-alt"></i>
                                    Date
                                </label>
                                <input type="date" id="feedbackDate" required>
                            </div>
                            <div class="form-group">
                                <label for="feedbackTime">
                                    <i class="fas fa-clock"></i>
                                    Time
                                </label>
                                <input type="time" id="feedbackTime" required>
                            </div>
                        </div>
                        
                        <div class="form-group full-width">
                            <label for="feedbackText">
                                <i class="fas fa-comment-dots"></i>
                                Feedback Details
                            </label>
                            <textarea id="feedbackText" rows="4" required placeholder="Enter detailed feedback about the communication or follow-up..."></textarea>
                            <div class="textarea-footer">
                                <span class="char-count">0 characters</span>
                                <span class="helpful-text">Be specific about the conversation and next steps</span>
                            </div>
                        </div>
                        
                        <div class="form-actions professional-feedback-actions">
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-save"></i>
                                Add Feedback Entry
                            </button>
                            <button type="button" class="btn-secondary" onclick="document.getElementById('feedbackForm').reset()">
                                <i class="fas fa-eraser"></i>
                                Clear Form
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="js/pagination.js"></script>
    <script src="js/enquiry.js"></script>
</body>
</html> 